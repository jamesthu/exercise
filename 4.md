##第四次课上练习
2013012444 易坤
2013011341 吴铮

----------
###描述符特权级DPL、当前特权级CPL和请求特权级RPL的含义是什么？在哪些寄存器中这些字段？对应的访问条件是什么？ (challenge)写出一些简单的小程序（c or asm）来体现这些特权级的区别和联系。
* CPL是当前进程的权限级别，是当前正在执行的代码所在的段的特权级。
* RPL是进程对段访问的请求权限，
* DPL存储在段描述符中，规定访问该段的权限级别，每个段的DPL固定。

* 当访问段时：CPL是当前进程的特权级，其对应于一个RPL（此RPL大于或者等于CPL），当RPL小于或者等于段描述符特权级DPL时，即可对段进行访问。

###比较不同特权级的中断切换时的堆栈变化差别；(challenge)写出一些简单的小程序（c or asm）来显示出不同特权级的的中断切换的堆栈变化情况。
* 当当前进程的特权级处于内核态的时候，中断切换时不需要切换堆栈，依然使用内核态的堆，需要压入EIP、CS、EFLAGS等寄存器参数压入栈即可。从中断恢复到正常内核态时，由于使用的是同一个栈，所以只需要将CS和EIP弹出，恢复EFLAGS。
* 当当前进程的特权级处于用户态的时候，首先需要将堆栈切换到内核态的堆，不仅需要将EIP，CS，EFLAGS等寄存器压栈，还需要将用户态中可能会被中断例程改变的寄存器值也进行压入栈。中断结束时将从内核态恢复到用户态，切换回用户态的堆栈，执行iret指令返回时，除了弹出上述内容以外，还要弹出SS和ESP。